import { logger, main, runner } from "./common.js";
import { StateTransition, runStateTransition } from "./state-transition/state-transition.js";

const runners = [runner("state_transition", StateTransition.fromJson, runStateTransition)];

main(runners, process.argv.slice(2), "test-vectors/jamduna", {
  accepted: ["generic/state_transitions/", "assurances/state_transitions/", "orderedaccumulation/state_transitions/"],
  ignored: [
    "generic/state_transitions/00000016.json",
    "generic/state_transitions/00000017.json",
    "generic/state_transitions/00000018.json",
    "generic/state_transitions/00000019.json",
    "generic/state_transitions/00000020.json",
    "generic/state_transitions/00000021.json",
    "generic/state_transitions/00000022.json",
    "generic/state_transitions/00000023.json",
    "generic/state_transitions/00000024.json",
    "generic/state_transitions/00000025.json",
    "generic/state_transitions/00000026.json",
    "generic/state_transitions/00000027.json",
    "generic/state_transitions/00000028.json",
    "generic/state_transitions/00000029.json",
    "generic/state_transitions/00000030.json",
    "generic/state_transitions/00000031.json",
    "generic/state_transitions/00000032.json",
    "generic/state_transitions/00000033.json",
    "generic/state_transitions/00000034.json",
    "generic/state_transitions/00000035.json",
    "generic/state_transitions/00000036.json",
    "generic/state_transitions/00000037.json",
    "generic/state_transitions/00000038.json",
    "generic/state_transitions/00000039.json",
    "generic/state_transitions/00000040.json",
    "generic/state_transitions/00000041.json",
    "generic/state_transitions/00000042.json",
    "generic/state_transitions/00000043.json",
    "generic/state_transitions/00000044.json",
    "assurances/state_transitions/00000016.json",
    "assurances/state_transitions/00000017.json",
    "assurances/state_transitions/00000018.json",
    "assurances/state_transitions/00000019.json",
    "assurances/state_transitions/00000020.json",
    "assurances/state_transitions/00000021.json",
    "assurances/state_transitions/00000022.json",
    "assurances/state_transitions/00000023.json",
    "assurances/state_transitions/00000024.json",
    "assurances/state_transitions/00000025.json",
    "assurances/state_transitions/00000026.json",
    "assurances/state_transitions/00000027.json",
    "assurances/state_transitions/00000028.json",
    "assurances/state_transitions/00000029.json",
    "assurances/state_transitions/00000030.json",
    "assurances/state_transitions/00000031.json",
    "assurances/state_transitions/00000032.json",
    "assurances/state_transitions/00000033.json",
    "assurances/state_transitions/00000034.json",
    "assurances/state_transitions/00000035.json",
    "assurances/state_transitions/00000036.json",
    "assurances/state_transitions/00000037.json",
    "assurances/state_transitions/00000038.json",
    "assurances/state_transitions/00000039.json",
    "assurances/state_transitions/00000040.json",
    "assurances/state_transitions/00000041.json",
    "assurances/state_transitions/00000042.json",
    "assurances/state_transitions/00000043.json",
    "assurances/state_transitions/00000044.json",
    "assurances/state_transitions/00000045.json",
    "assurances/state_transitions/00000046.json",
    "assurances/state_transitions/00000047.json",
    "orderedaccumulation/state_transitions/00000016.json",
    "orderedaccumulation/state_transitions/00000017.json",
    "orderedaccumulation/state_transitions/00000018.json",
    "orderedaccumulation/state_transitions/00000019.json",
    "orderedaccumulation/state_transitions/00000020.json",
    "orderedaccumulation/state_transitions/00000021.json",
    "orderedaccumulation/state_transitions/00000022.json",
    "orderedaccumulation/state_transitions/00000023.json",
    "orderedaccumulation/state_transitions/00000024.json",
    "orderedaccumulation/state_transitions/00000025.json",
    "orderedaccumulation/state_transitions/00000026.json",
    "orderedaccumulation/state_transitions/00000027.json",
    "orderedaccumulation/state_transitions/00000028.json",
    "orderedaccumulation/state_transitions/00000029.json",
    "orderedaccumulation/state_transitions/00000030.json",
    "orderedaccumulation/state_transitions/00000031.json",
    "orderedaccumulation/state_transitions/00000032.json",
    "orderedaccumulation/state_transitions/00000033.json",
    "orderedaccumulation/state_transitions/00000034.json",
    "orderedaccumulation/state_transitions/00000035.json",
    "orderedaccumulation/state_transitions/00000036.json",
    "orderedaccumulation/state_transitions/00000037.json",
    "orderedaccumulation/state_transitions/00000038.json",
    "orderedaccumulation/state_transitions/00000039.json",
  ],
})
  .then((r) => logger.log(r))
  .catch((e) => {
    logger.error(`${e}`);
    process.exit(-1);
  });
