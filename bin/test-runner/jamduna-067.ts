import { logger, main, runner } from "./common.js";
import { StateTransition, runStateTransition } from "./state-transition/state-transition.js";

const runners = [runner("state_transition", StateTransition.fromJson, runStateTransition)];

main(runners, process.argv.slice(2), "test-vectors/jamduna_067", {
  accepted: ["safrole/state_transitions/"],
  ignored: [
    "safrole/state_transitions/00000019.json",
    "safrole/state_transitions/00000020.json",
    "safrole/state_transitions/00000021.json",
    "safrole/state_transitions/00000022.json",
    "safrole/state_transitions/00000023.json",
    "safrole/state_transitions/00000028.json",
    "safrole/state_transitions/00000032.json",
    "safrole/state_transitions/00000033.json",
    "safrole/state_transitions/00000034.json",
    "safrole/state_transitions/00000035.json",
    "safrole/state_transitions/00000036.json",
    "safrole/state_transitions/00000037.json",
    "safrole/state_transitions/00000038.json",
    "safrole/state_transitions/00000039.json",
    "safrole/state_transitions/00000040.json",
    "safrole/state_transitions/00000041.json",
    "safrole/state_transitions/00000042.json",
    "safrole/state_transitions/00000043.json",
    "safrole/state_transitions/00000044.json",
    "safrole/state_transitions/00000045.json",
    "safrole/state_transitions/00000046.json",
    "safrole/state_transitions/00000047.json",
    "safrole/state_transitions/00000048.json",
    "safrole/state_transitions/00000049.json",
    "safrole/state_transitions/00000050.json",
    "safrole/state_transitions/00000051.json",
    "safrole/state_transitions/00000052.json",
    "safrole/state_transitions/00000053.json",
    "safrole/state_transitions/00000054.json",
    "safrole/state_transitions/00000055.json",
    "safrole/state_transitions/00000056.json",
    "safrole/state_transitions/00000057.json",
    "safrole/state_transitions/00000058.json",
    "safrole/state_transitions/00000059.json",
    "safrole/state_transitions/00000060.json",
    "safrole/state_transitions/00000061.json",
    "safrole/state_transitions/00000062.json",
    "safrole/state_transitions/00000063.json",
    "safrole/state_transitions/00000064.json",
    "safrole/state_transitions/00000065.json",
    "safrole/state_transitions/00000066.json",
    "safrole/state_transitions/00000067.json",
    "safrole/state_transitions/00000068.json",
    "safrole/state_transitions/00000069.json",
    "safrole/state_transitions/00000070.json",
    "safrole/state_transitions/00000071.json",
    "safrole/state_transitions/00000072.json",
    "safrole/state_transitions/00000073.json",
    "safrole/state_transitions/00000074.json",
    "safrole/state_transitions/00000075.json",
    "safrole/state_transitions/00000076.json",
    "safrole/state_transitions/00000077.json",
    "safrole/state_transitions/00000078.json",
    "safrole/state_transitions/00000079.json",
    "safrole/state_transitions/00000080.json",
    "safrole/state_transitions/00000081.json",
    "safrole/state_transitions/00000082.json",
    "safrole/state_transitions/00000083.json",
    "safrole/state_transitions/00000084.json",
    "safrole/state_transitions/00000085.json",
    "safrole/state_transitions/00000086.json",
    "safrole/state_transitions/00000087.json",
    "safrole/state_transitions/00000088.json",
    "safrole/state_transitions/00000089.json",
    "safrole/state_transitions/00000090.json",
    "safrole/state_transitions/00000091.json",
    "safrole/state_transitions/00000092.json",
    "safrole/state_transitions/00000093.json",
    "safrole/state_transitions/00000094.json",
    "safrole/state_transitions/00000095.json",
    "safrole/state_transitions/00000096.json",
    "safrole/state_transitions/00000097.json",
    "safrole/state_transitions/00000098.json",
    "safrole/state_transitions/00000099.json",
    "safrole/state_transitions/00000100.json",
    "safrole/state_transitions/00000101.json",
    "safrole/state_transitions/00000102.json",
  ],
})
  .then((r) => logger.log(r))
  .catch((e) => {
    logger.error(`${e}`);
    process.exit(-1);
  });
