import { logger, main, parseArgs } from "./common.js";
import { runners } from "./w3f/runners.js";

main(runners, "test-vectors/w3f-davxy_067", {
  ...parseArgs(process.argv.slice(2)),
  patterns: [".json"],
  accepted: {
    ".json": ["traces"],
  },
  ignored: [
    "genesis.json",
    // note [seko] storage tests await implementation of read/write
    "traces/storage_light/00000003.json",
    "traces/storage_light/00000004.json",
    "traces/storage_light/00000005.json",
    "traces/storage_light/00000011.json",
    "traces/storage_light/00000012.json",
    "traces/storage_light/00000016.json",
    "traces/storage_light/00000017.json",
    "traces/storage_light/00000020.json",
    "traces/storage_light/00000021.json",
    "traces/storage_light/00000022.json",
    "traces/storage_light/00000026.json",
    "traces/storage_light/00000027.json",
    "traces/storage_light/00000028.json",
    "traces/storage_light/00000030.json",
    "traces/storage_light/00000034.json",
    "traces/storage_light/00000035.json",
    "traces/storage_light/00000036.json",
    "traces/storage_light/00000038.json",
    "traces/storage_light/00000040.json",
    "traces/storage_light/00000042.json",
    "traces/storage_light/00000043.json",
    "traces/storage_light/00000044.json",
    "traces/storage_light/00000046.json",
    "traces/storage_light/00000049.json",
    "traces/storage_light/00000053.json",
    "traces/storage_light/00000054.json",
    "traces/storage_light/00000055.json",
    "traces/storage_light/00000056.json",
    "traces/storage_light/00000057.json",
    "traces/storage_light/00000058.json",
    "traces/storage_light/00000059.json",
    "traces/storage_light/00000060.json",
    "traces/storage_light/00000062.json",
    "traces/storage_light/00000063.json",
    "traces/storage_light/00000065.json",
    "traces/storage_light/00000067.json",
    "traces/storage_light/00000070.json",
    "traces/storage_light/00000071.json",
    "traces/storage_light/00000072.json",
    "traces/storage_light/00000073.json",
    "traces/storage_light/00000074.json",
    "traces/storage_light/00000075.json",
    "traces/storage_light/00000079.json",
    "traces/storage_light/00000080.json",
    "traces/storage_light/00000082.json",
    "traces/storage_light/00000083.json",
    "traces/storage_light/00000084.json",
    "traces/storage_light/00000086.json",
    "traces/storage_light/00000087.json",
    "traces/storage_light/00000091.json",
    "traces/storage_light/00000092.json",
    "traces/storage_light/00000093.json",
    "traces/storage_light/00000096.json",
    "traces/storage_light/00000097.json",
    "traces/storage_light/00000099.json",
    "traces/storage_light/00000100.json",
    "traces/storage/00000001.json",
    "traces/storage/00000002.json",
    "traces/storage/00000004.json",
    "traces/storage/00000005.json",
    "traces/storage/00000006.json",
    "traces/storage/00000007.json",
    "traces/storage/00000009.json",
    "traces/storage/00000010.json",
    "traces/storage/00000011.json",
    "traces/storage/00000012.json",
    "traces/storage/00000013.json",
    "traces/storage/00000014.json",
    "traces/storage/00000015.json",
    "traces/storage/00000016.json",
    "traces/storage/00000017.json",
    "traces/storage/00000018.json",
    "traces/storage/00000019.json",
    "traces/storage/00000020.json",
    "traces/storage/00000021.json",
    "traces/storage/00000022.json",
    "traces/storage/00000023.json",
    "traces/storage/00000024.json",
    "traces/storage/00000025.json",
    "traces/storage/00000026.json",
    "traces/storage/00000027.json",
    "traces/storage/00000028.json",
    "traces/storage/00000029.json",
    "traces/storage/00000030.json",
    "traces/storage/00000031.json",
    "traces/storage/00000032.json",
    "traces/storage/00000033.json",
    "traces/storage/00000034.json",
    "traces/storage/00000035.json",
    "traces/storage/00000036.json",
    "traces/storage/00000038.json",
    "traces/storage/00000039.json",
    "traces/storage/00000040.json",
    "traces/storage/00000041.json",
    "traces/storage/00000042.json",
    "traces/storage/00000043.json",
    "traces/storage/00000044.json",
    "traces/storage/00000046.json",
    "traces/storage/00000047.json",
    "traces/storage/00000048.json",
    "traces/storage/00000049.json",
    "traces/storage/00000050.json",
    "traces/storage/00000051.json",
    "traces/storage/00000052.json",
    "traces/storage/00000053.json",
    "traces/storage/00000054.json",
    "traces/storage/00000055.json",
    "traces/storage/00000056.json",
    "traces/storage/00000058.json",
    "traces/storage/00000059.json",
    "traces/storage/00000060.json",
    "traces/storage/00000061.json",
    "traces/storage/00000062.json",
    "traces/storage/00000064.json",
    "traces/storage/00000065.json",
    "traces/storage/00000066.json",
    "traces/storage/00000067.json",
    "traces/storage/00000068.json",
    "traces/storage/00000069.json",
    "traces/storage/00000070.json",
    "traces/storage/00000071.json",
    "traces/storage/00000072.json",
    "traces/storage/00000073.json",
    "traces/storage/00000074.json",
    "traces/storage/00000075.json",
    "traces/storage/00000077.json",
    "traces/storage/00000078.json",
    "traces/storage/00000079.json",
    "traces/storage/00000080.json",
    "traces/storage/00000081.json",
    "traces/storage/00000082.json",
    "traces/storage/00000083.json",
    "traces/storage/00000084.json",
    "traces/storage/00000085.json",
    "traces/storage/00000086.json",
    "traces/storage/00000087.json",
    "traces/storage/00000088.json",
    "traces/storage/00000089.json",
    "traces/storage/00000090.json",
    "traces/storage/00000091.json",
    "traces/storage/00000092.json",
    "traces/storage/00000093.json",
    "traces/storage/00000094.json",
    "traces/storage/00000095.json",
    "traces/storage/00000096.json",
    "traces/storage/00000097.json",
    "traces/storage/00000100.json",
    // note [seko] preimage tests fail with differences in storage utilisation, accumulateGasUsed and lookupHistory
    "traces/preimages_light/00000003.json",
    "traces/preimages_light/00000006.json",
    "traces/preimages_light/00000010.json",
    "traces/preimages_light/00000011.json",
    "traces/preimages_light/00000016.json",
    "traces/preimages_light/00000017.json",
    "traces/preimages_light/00000019.json",
    "traces/preimages_light/00000020.json",
    "traces/preimages_light/00000021.json",
    "traces/preimages_light/00000022.json",
    "traces/preimages_light/00000023.json",
    "traces/preimages_light/00000024.json",
    "traces/preimages_light/00000025.json",
    "traces/preimages_light/00000029.json",
    "traces/preimages_light/00000030.json",
    "traces/preimages_light/00000031.json",
    "traces/preimages_light/00000032.json",
    "traces/preimages_light/00000034.json",
    "traces/preimages_light/00000036.json",
    "traces/preimages_light/00000037.json",
    "traces/preimages_light/00000038.json",
    "traces/preimages_light/00000040.json",
    "traces/preimages_light/00000041.json",
    "traces/preimages_light/00000043.json",
    "traces/preimages_light/00000044.json",
    "traces/preimages_light/00000046.json",
    "traces/preimages_light/00000053.json",
    "traces/preimages_light/00000054.json",
    "traces/preimages_light/00000055.json",
    "traces/preimages_light/00000056.json",
    "traces/preimages_light/00000057.json",
    "traces/preimages_light/00000058.json",
    "traces/preimages_light/00000059.json",
    "traces/preimages_light/00000060.json",
    "traces/preimages_light/00000061.json",
    "traces/preimages_light/00000062.json",
    "traces/preimages_light/00000063.json",
    "traces/preimages_light/00000064.json",
    "traces/preimages_light/00000065.json",
    "traces/preimages_light/00000066.json",
    "traces/preimages_light/00000069.json",
    "traces/preimages_light/00000070.json",
    "traces/preimages_light/00000071.json",
    "traces/preimages_light/00000072.json",
    "traces/preimages_light/00000073.json",
    "traces/preimages_light/00000074.json",
    "traces/preimages_light/00000079.json",
    "traces/preimages_light/00000080.json",
    "traces/preimages_light/00000081.json",
    "traces/preimages_light/00000082.json",
    "traces/preimages_light/00000087.json",
    "traces/preimages_light/00000089.json",
    "traces/preimages_light/00000090.json",
    "traces/preimages_light/00000092.json",
    "traces/preimages_light/00000094.json",
    "traces/preimages_light/00000096.json",
    "traces/preimages_light/00000097.json",
    "traces/preimages_light/00000098.json",
    "traces/preimages_light/00000099.json",
    "traces/preimages/00000001.json",
    "traces/preimages/00000002.json",
    "traces/preimages/00000004.json",
    "traces/preimages/00000005.json",
    "traces/preimages/00000006.json",
    "traces/preimages/00000007.json",
    "traces/preimages/00000008.json",
    "traces/preimages/00000009.json",
    "traces/preimages/00000010.json",
    "traces/preimages/00000011.json",
    "traces/preimages/00000012.json",
    "traces/preimages/00000013.json",
    "traces/preimages/00000014.json",
    "traces/preimages/00000015.json",
    "traces/preimages/00000016.json",
    "traces/preimages/00000017.json",
    "traces/preimages/00000018.json",
    "traces/preimages/00000019.json",
    "traces/preimages/00000020.json",
    "traces/preimages/00000021.json",
    "traces/preimages/00000022.json",
    "traces/preimages/00000023.json",
    "traces/preimages/00000024.json",
    "traces/preimages/00000025.json",
    "traces/preimages/00000026.json",
    "traces/preimages/00000028.json",
    "traces/preimages/00000029.json",
    "traces/preimages/00000030.json",
    "traces/preimages/00000031.json",
    "traces/preimages/00000032.json",
    "traces/preimages/00000034.json",
    "traces/preimages/00000035.json",
    "traces/preimages/00000036.json",
    "traces/preimages/00000037.json",
    "traces/preimages/00000038.json",
    "traces/preimages/00000039.json",
    "traces/preimages/00000040.json",
    "traces/preimages/00000043.json",
    "traces/preimages/00000045.json",
    "traces/preimages/00000047.json",
    "traces/preimages/00000048.json",
    "traces/preimages/00000049.json",
    "traces/preimages/00000050.json",
    "traces/preimages/00000051.json",
    "traces/preimages/00000052.json",
    "traces/preimages/00000053.json",
    "traces/preimages/00000054.json",
    "traces/preimages/00000055.json",
    "traces/preimages/00000056.json",
    "traces/preimages/00000057.json",
    "traces/preimages/00000058.json",
    "traces/preimages/00000059.json",
    "traces/preimages/00000060.json",
    "traces/preimages/00000061.json",
    "traces/preimages/00000062.json",
    "traces/preimages/00000063.json",
    "traces/preimages/00000064.json",
    "traces/preimages/00000066.json",
    "traces/preimages/00000067.json",
    "traces/preimages/00000069.json",
    "traces/preimages/00000070.json",
    "traces/preimages/00000071.json",
    "traces/preimages/00000072.json",
    "traces/preimages/00000073.json",
    "traces/preimages/00000075.json",
    "traces/preimages/00000076.json",
    "traces/preimages/00000077.json",
    "traces/preimages/00000078.json",
    "traces/preimages/00000080.json",
    "traces/preimages/00000081.json",
    "traces/preimages/00000082.json",
    "traces/preimages/00000083.json",
    "traces/preimages/00000084.json",
    "traces/preimages/00000085.json",
    "traces/preimages/00000086.json",
    "traces/preimages/00000087.json",
    "traces/preimages/00000088.json",
    "traces/preimages/00000090.json",
    "traces/preimages/00000091.json",
    "traces/preimages/00000092.json",
    "traces/preimages/00000093.json",
    "traces/preimages/00000094.json",
    "traces/preimages/00000095.json",
    "traces/preimages/00000096.json",
    "traces/preimages/00000097.json",
    "traces/preimages/00000098.json",
    "traces/preimages/00000099.json",
  ],
})
  .then((r) => logger.log`${r}`)
  .catch((e) => {
    logger.error`${e}`;
    process.exit(-1);
  });
